# Справочник по медиа (Media Reference)

Полное руководство по работе с изображениями и видео в уроках.

## Содержание

- [Основы](#основы)
- [Изображения](#изображения)
- [Видео](#видео)
- [Способы указания путей](#способы-указания-путей)
- [Форматы](#форматы)
- [GIF и анимации](#gif-и-анимации)
- [Рекомендации](#рекомендации)
- [Примеры](#примеры)

## Основы

Медиа встраивается в уроки через стандартный Markdown-синтаксис изображений. Система автоматически определяет тип контента (изображение или видео) по расширению файла.

### Базовый синтаксис

```md
![](путь-или-URL)
```

### Как определяется тип

- **Изображение:** `.jpg`, `.jpeg`, `.png`, `.bmp`, `.tiff`, `.gif`
- **Видео:** `.mp4`, `.mov`, `.webm`, `.avi`, `.wmv` и др. (см. [Поддерживаемые форматы видео](#поддерживаемые-видео-форматы))

## Изображения

### Поддерживаемые форматы

| Формат | Расширение | Рекомендуется | Примечание |
|--------|------------|---------------|------------|
| PNG | `.png` | ✅ Да | Лучше для скриншотов, поддержка прозрачности |
| JPEG | `.jpg`, `.jpeg` | ✅ Да | Лучше для фотографий, меньший размер |
| GIF | `.gif` | ⚠️ Только статика | Анимация не воспроизводится (см. раздел GIF) |
| BMP | `.bmp` | ❌ Нет | Слишком большой размер |
| TIFF | `.tiff`, `.tif` | ❌ Нет | Избыточно для веб-контента |

### Примеры

```md
# Локальное изображение
![](images/screenshot.png)

# Внешнее изображение
![](https://example.com/image.jpg)

# Поиск по проекту
![](logo.png)

# Проектный путь Unity
![](Assets/Textures/Logo.png)
```

### Рекомендации по изображениям

1. **Формат:**
   - PNG для UI, диаграмм, скриншотов кода
   - JPEG для фотографий, концепт-артов

2. **Размер:**
   - Оптимальная ширина: 600-1200px
   - Сжимайте изображения перед добавлением
   - Используйте внешние URL для больших изображений

3. **Именование:**
   - Используйте понятные имена: `unity-inspector.png`, `code-example-1.png`
   - Избегайте кириллицы и спецсимволов
   - Используйте lowercase и дефисы: `my-image.png`

## Видео

### Поддерживаемые форматы

| Формат | Расширение | Рекомендуется | Примечание |
|--------|------------|---------------|------------|
| MP4 | `.mp4` | ✅✅✅ Лучший выбор | Универсальная поддержка |
| WebM | `.webm` | ✅ Да | Хорошее сжатие, открытый формат |
| MOV | `.mov` | ⚠️ Средне | QuickTime, может не везде работать |
| AVI | `.avi` | ❌ Нет | Устаревший, большой размер |
| WMV | `.wmv` | ❌ Нет | Windows-специфичный |

### Полный список поддерживаемых форматов

`.mp4`, `.mov`, `.webm`, `.avi`, `.wmv`, `.mpeg`, `.mpg`, `.m4v`, `.ogv`, `.asf`, `.dv`, `.vp8`

### Примеры

```md
# Локальное видео
![](videos/tutorial.mp4)

# Внешнее видео
![](https://example.com/tutorial.mp4)

# Видео с CDN
![](https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4)
```

### Рекомендации по видео

1. **Формат:**
   - Используйте **MP4** (кодек H.264) — лучшая совместимость
   - WebM как альтернатива для открытых форматов

2. **Размер и качество:**
   - Разрешение: 720p (1280x720) или 1080p (1920x1080)
   - Битрейт: 2-5 Mbps для 720p, 5-10 Mbps для 1080p
   - Сжимайте видео перед загрузкой

3. **Длительность:**
   - Оптимально: 30-120 секунд
   - Разбивайте длинные видео на короткие фрагменты
   - Каждое видео — отдельный слайд

4. **Хостинг:**
   - Для больших видео используйте внешний хостинг
   - Популярные варианты: YouTube (embed), Vimeo, облачные хранилища
   - Локальные видео храните в папке `videos/` рядом с уроком

## Способы указания путей

Система поддерживает несколько способов указания путей к медиа-файлам.

### 1. Абсолютные URL

**Синтаксис:**
```md
![](http://example.com/image.jpg)
![](https://example.com/video.mp4)
```

**Когда использовать:**
- Контент на внешних серверах
- Большие файлы (видео)
- Общедоступные ресурсы

**Примеры:**
```md
![](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/June_odd-eyed-cat.jpg/320px-June_odd-eyed-cat.jpg)
![](https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4)
```

**Примечание:**
- Требуется интернет-соединение
- При недоступности URL (404) урок продолжит работу с предупреждением в консоли

### 2. Относительные пути

**Синтаксис:**
```md
![](images/pic.png)
![](./images/pic.png)
![](../shared/banner.png)
```

**Как резолвятся:**
- Относительно **папки текущего `.md` файла**
- `./` — текущая папка (можно опустить)
- `../` — родительская папка

**Примеры:**

Структура:
```
lessons2/
  m2/
    y1.md
    images/
      screenshot.png
  shared/
    banner.png
```

В файле `lessons2/m2/y1.md`:
```md
![](images/screenshot.png)      # lessons2/m2/images/screenshot.png
![](./images/screenshot.png)    # то же самое
![](../shared/banner.png)       # lessons2/shared/banner.png
```

**Когда использовать:**
- Организация медиа по модулям/урокам
- Локальное хранение файлов проекта
- Портативность (работает без интернета)

### 3. Поиск по проекту (голое имя)

**Синтаксис:**
```md
![](logo.png)
![](sample.jpg)
```

**Как работает:**
- Система ищет файл **рекурсивно** по всему проекту Unity
- Находит первое совпадение по имени
- Поиск в `Assets/**` и `Packages/**`

**Примеры:**
```md
![](logo.png)        # найдёт Assets/Images/logo.png или Assets/UI/logo.png
![](player.png)      # найдёт первый файл с именем player.png
```

**Когда использовать:**
- Файлы в ассетах Unity
- Не знаете точный путь, но знаете имя
- Быстрое прототипирование

**⚠️ Внимание:**
- Если файлов с одинаковым именем несколько — будет использован первый найденный
- Для точности лучше использовать относительные пути или проектные пути

### 4. Проектные пути Unity

**Синтаксис:**
```md
![](Assets/Textures/Logo.png)
![](Packages/com.company.package/Documentation~/image.png)
```

**Когда использовать:**
- Точное указание файла в структуре Unity
- Файлы в пакетах
- Избежание конфликтов имён

**Примеры:**
```md
![](Assets/Sprites/Player/idle.png)
![](Assets/UI/Icons/health-icon.png)
![](Packages/com.unity.learn.iet-framework/Documentation~/images/banner.png)
```

### Сводная таблица

| Метод | Пример | Преимущества | Недостатки |
|-------|--------|--------------|------------|
| URL | `https://site.com/pic.jpg` | Не занимает место в проекте | Требует интернет |
| Относительный | `./images/pic.png` | Портативность, организация | Нужно следить за структурой |
| Голое имя | `logo.png` | Простота, быстро | Неоднозначность при дублях |
| Проектный | `Assets/Images/pic.png` | Точность, явность | Длинные пути |

## GIF и анимации

### Текущее поведение

- GIF **отображаются как статичные изображения** (первый кадр)
- Анимация **не воспроизводится** напрямую

### Обходное решение: конвертация в MP4

Плагин поддерживает автоматическую конвертацию GIF в MP4:

1. **Настройте ffmpeg:**
   - Установите ffmpeg на компьютер
   - Укажите путь в настройках плагина

2. **Включите авто-конвертацию:**
   - Настройки плагина → Media → Enable GIF to MP4 conversion

3. **Используйте GIF:**
   ```md
   ![](animation.gif)
   ```

4. **Система автоматически:**
   - Скачает GIF (если URL)
   - Конвертирует в MP4
   - Перезагрузит слайд с видео

### Рекомендация

**Сразу используйте MP4 вместо GIF:**
- Лучше качество
- Меньше размер файла
- Нет задержек на конвертацию

**Инструменты для конвертации:**
- ffmpeg (командная строка)
- HandBrake (GUI)
- Онлайн: ezgif.com, cloudconvert.com

## Рекомендации

### Организация файлов

```
lessons2/
  m2/
    y1.md
    y2.md
    images/          # Изображения для модуля 2
      y1-step1.png
      y1-step2.png
      y2-example.png
    videos/          # Видео для модуля 2 (если локальные)
      y1-demo.mp4
  m3/
    y1.md
    images/
      ...
  shared/            # Общие ресурсы
    banner.png
    logo.png
```

### Именование файлов

**Хорошо:**
```
unity-inspector-view.png
csharp-variable-types.png
player-movement-demo.mp4
lesson-3-quiz-explanation.png
```

**Плохо:**
```
IMG_20240115.jpg
скриншот.png
video1.mp4
новый_файл (1).png
```

### Оптимизация

1. **Изображения:**
   - Используйте онлайн-сервисы: TinyPNG, ImageOptim
   - Целевой размер: < 500 KB для PNG, < 200 KB для JPEG
   - Сохраняйте в web-friendly качестве

2. **Видео:**
   - Используйте HandBrake или ffmpeg для сжатия
   - Целевой размер: 5-20 MB для минутного видео
   - Параметры: H.264, 720p, 2-4 Mbps

3. **Внешний хостинг:**
   - Для видео > 20 MB используйте облачные сервисы
   - Google Drive, Dropbox (прямые ссылки)
   - GitHub Releases (для больших ассетов)

### Доступность

- ❌ **Не используйте** изображения текста — текст должен быть текстом
- ✅ **Дублируйте** важную информацию из изображений в текстовом виде
- ✅ **Подписывайте** сложные диаграммы и скриншоты

## Примеры

### Пример 1: Скриншот Unity Editor

```md
## Создание объекта

В окне Hierarchy кликните правой кнопкой и выберите `Create Empty`.

![](images/unity-create-empty.png)

Назовите объект "Player".
```

### Пример 2: Внешнее изображение концепта

```md
## Теория: Вектор

Вектор — это направление и величина в пространстве.

![](https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Vector_components.svg/320px-Vector_components.svg.png)

В Unity мы используем `Vector2` для 2D и `Vector3` для 3D.
```

### Пример 3: Демонстрационное видео

```md
## Результат

Ваша игра должна выглядеть так:

![](https://example.com/gameplay-demo.mp4)

Персонаж двигается плавно и реагирует на ввод.
```

### Пример 4: Набор скриншотов пошаговой инструкции

```md
## Добавление компонента

Шаг 1: Выберите объект

![](images/step-1-select-object.png)

---

Шаг 2: Кликните Add Component

![](images/step-2-add-component.png)

---

Шаг 3: Найдите Rigidbody

![](images/step-3-find-rigidbody.png)

---

Шаг 4: Настройте параметры

![](images/step-4-configure.png)
```

### Пример 5: Смешанный контент

```md
## Анимация движения

Теория:

![](images/animation-theory.png)

Пример в действии:

![](videos/animation-demo.mp4)
```

## Отладка

### Изображение не отображается

**Проверьте:**
1. Путь к файлу (регистр, расширение)
2. Файл существует
3. Относительный путь правильный (относительно `.md` файла)
4. URL доступен (откройте в браузере)

**Консоль Unity:**
- Ищите предупреждения: `Media not found: ...`
- Показывает путь, по которому искали файл

### Видео не воспроизводится

**Проверьте:**
1. Формат файла (используйте MP4)
2. Кодек (H.264 для MP4)
3. Размер файла (< 100 MB рекомендуется)
4. Путь к файлу

**Совет:** Протестируйте видео в браузере или стандартном плеере.

### GIF показывает только первый кадр

Это **нормальное поведение**. Конвертируйте в MP4 или настройте авто-конвертацию (см. раздел GIF).

## См. также

- [CourseGuide.md](../CourseGuide.md) — краткий обзор всех возможностей
- [Docs/Examples/media.md](Examples/media.md) — примеры локальных медиа
- [Docs/Examples/mediaUrl.md](Examples/mediaUrl.md) — примеры внешних URL

